<!doctype html>
<html lang="es" data-theme="gamer">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Game Store | Level-Up Gamer</title>

  <!-- Tipografías para tema gamer: Orbitron para encabezados, Roboto para texto general -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <!-- CSS externo -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <a href="#contenido" class="sr-only">Saltar al contenido</a>
  <style>
    body {
      font-family: 'Roboto', Arial, sans-serif;
    }
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Orbitron', 'Roboto', Arial, sans-serif;
      font-weight: 700;
    }
  </style>

  <!-- ===================== HEADER ===================== -->
  <header class="header">
    <div class="container">
      <nav class="nav">
        <a class="logo" href="./" aria-label="Ir al inicio">
          ⚡ GAME STORE
        </a>
        
        <ul class="menu">
          <li><a href="#categorias">Categorías</a></li>
          <li><a href="#destacados">Destacados</a></li>
          <li><a href="#ofertas">Ofertas</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
        
        <div class="actions">
          <button class="btn-icon" type="button" aria-label="Abrir carrito" onclick="showCart()">
            🛒 <span class="badge" id="cart-count" aria-live="polite">0</span>
          </button>
          <div class="level-indicator" id="level-indicator" style="display: none;">
            <span class="level-icon" id="nav-level-icon">🥉</span>
            <span class="level-text">Nivel <span id="nav-level-number">1</span></span>
            <span class="level-points" id="nav-level-points">0 pts</span>
          </div>
          <button class="btn-secondary" type="button" id="login-button">
            🔑 Iniciar Sesión
          </button>
          <button class="btn-secondary" type="button" id="register-button">
            👤 Registrarse
          </button>
          <summary class="nav-toggle" role="button" aria-label="Abrir menú">☰</summary>
        </div>
      </nav>
    </div>

    <!-- Drawer móvil -->
    <div class="drawer" id="mobile-drawer">
      <ul class="menu">
        <li><a href="#categorias">Categorías</a></li>
        <li><a href="#destacados">Destacados</a></li>
        <li><a href="#ofertas">Ofertas</a></li>
        <li><a href="#contacto">Contacto</a></li>
      </ul>
    </div>
  </header>

  <!-- ===================== BANNER DE PROMOCIONES ===================== -->
  <section class="promo-banner" aria-label="Promociones" tabindex="0">
    <div class="promo-carousel">
      <button class="promo-arrow left" aria-label="Anterior promoción">&#9664;</button>
      <div class="promo-slide">
        <span class="promo-icon">⚡</span>
        <span class="promo-text">¡Semana Gamer! Hasta <strong>40% de descuento</strong> en accesorios y hardware</span>
        <a href="#ofertas" class="promo-btn">Ver Ofertas</a>
      </div>
      <div class="promo-slide" style="display:none;">
        <span class="promo-icon">🎮</span>
        <span class="promo-text">Envío <strong>GRATIS</strong> por compras sobre $50.000</span>
        <a href="#productos" class="promo-btn">Ver Productos</a>
      </div>
      <div class="promo-slide" style="display:none;">
        <span class="promo-icon">🏆</span>
        <span class="promo-text">Descuento <strong>20% de por vida</strong> para usuarios Duoc UC</span>
        <a href="#register-modal" class="promo-btn">Regístrate</a>
      </div>
      <button class="promo-arrow right" aria-label="Siguiente promoción">&#9654;</button>
    </div>
  </section>
  <!-- ===================== HERO ===================== -->
  <section class="hero">
    <div class="container">
      <h1>Level Up Your Gaming</h1>
      <p>Descubre los mejores juegos, accesorios y hardware gaming al mejor precio</p>
      <button class="cta-button" onclick="document.getElementById('destacados').scrollIntoView()">
        🎮 Explorar Productos
      </button>
    </div>
  </section>

  <!-- ===================== MAIN ===================== -->
  <main class="main" id="contenido">
    <div class="container">
      
      <!-- Categorías -->
      <section id="categorias">
        <h2 class="section-title">Categorías Gaming</h2>
        <div class="tiles">
          <div class="tile">
            <div class="tile-icon">🎮</div>
            <h3>Videojuegos</h3>
            <p>Los últimos lanzamientos y clásicos</p>
          </div>
          <div class="tile">
            <div class="tile-icon">⚡</div>
            <h3>Hardware</h3>
            <p>PCs, componentes y periféricos</p>
          </div>
          <div class="tile">
            <div class="tile-icon">🎧</div>
            <h3>Accesorios</h3>
            <p>Auriculares, teclados y ratones</p>
          </div>
          <div class="tile">
            <div class="tile-icon">🏆</div>
            <h3>eSports</h3>
            <p>Equipamiento profesional</p>
          </div>
        </div>
      </section>

      <!-- Productos Destacados -->
      <section id="destacados">
        <h2 class="section-title">Productos Destacados</h2>
        <div class="cards" id="featured-grid">
          <article class="card">
            <div class="card-image">🎮</div>
            <div class="card-content">
              <h3 class="card-title">Gaming Controller Pro</h3>
              <div class="card-price">$89.990</div>
              <p class="card-description">Control inalámbrico premium con retroalimentación háptica avanzada</p>
              <button class="card-button" onclick="addToCart(1)">Agregar al Carrito</button>
            </div>
          </article>

          <article class="card" data-product-id="rtx-gpu">
            <div class="card-image">⚡</div>
            <div class="card-content">
              <h3 class="card-title">RTX Gaming GPU</h3>
              <div class="card-rating">
                <div class="stars">
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                </div>
                <span class="rating-text">(4.8) 127 reseñas</span>
              </div>
              <div class="card-price">$599.990</div>
              <p class="card-description">Tarjeta gráfica de última generación para gaming en 4K</p>
              <div class="card-actions">
                <button class="card-button" onclick="addToCart(2)">Agregar al Carrito</button>
                <button class="reviews-button" onclick="openProductReviews('rtx-gpu')">Ver Reseñas</button>
              </div>
            </div>
          </article>

          <article class="card" data-product-id="headset-gaming">
            <div class="card-image">🎧</div>
            <div class="card-content">
              <h3 class="card-title">Headset Gaming 7.1</h3>
              <div class="card-rating">
                <div class="stars">
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star half">★</span>
                </div>
                <span class="rating-text">(4.3) 89 reseñas</span>
              </div>
              <div class="card-price">$149.990</div>
              <p class="card-description">Auriculares con sonido envolvente y micrófono de calidad profesional</p>
              <div class="card-actions">
                <button class="card-button" onclick="addToCart(5)">Agregar al Carrito</button>
                <button class="reviews-button" onclick="openProductReviews('headset-gaming')">Ver Reseñas</button>
              </div>
            </div>
          </article>

          <article class="card" data-product-id="keyboard-rgb">
            <div class="card-image">⌨️</div>
            <div class="card-content">
              <h3 class="card-title">Mechanical Keyboard RGB</h3>
              <div class="card-rating">
                <div class="stars">
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star">★</span>
                </div>
                <span class="rating-text">(4.2) 64 reseñas</span>
              </div>
              <div class="card-price">$129.990</div>
              <p class="card-description">Teclado mecánico con switches Cherry MX e iluminación RGB personalizable</p>
              <div class="card-actions">
                <button class="card-button" onclick="addToCart(3)">Agregar al Carrito</button>
                <button class="reviews-button" onclick="openProductReviews('keyboard-rgb')">Ver Reseñas</button>
              </div>
            </div>
          </article>

          <article class="card" data-product-id="mouse-ultra">
            <div class="card-image">🖱️</div>
            <div class="card-content">
              <h3 class="card-title">Gaming Mouse Ultra</h3>
              <div class="card-rating">
                <div class="stars">
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star half">★</span>
                </div>
                <span class="rating-text">(4.6) 156 reseñas</span>
              </div>
              <div class="card-price">$79.990</div>
              <p class="card-description">Ratón de alta precisión con 16000 DPI y 8 botones programables</p>
              <div class="card-actions">
                <button class="card-button" onclick="addToCart(4)">Agregar al Carrito</button>
                <button class="reviews-button" onclick="openProductReviews('mouse-ultra')">Ver Reseñas</button>
              </div>
            </div>
          </article>

          <article class="card" data-product-id="monitor-144hz">
            <div class="card-image">🖥️</div>
            <div class="card-content">
              <h3 class="card-title">Gaming Monitor 144Hz</h3>
              <div class="card-rating">
                <div class="stars">
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star">★</span>
                </div>
                <span class="rating-text">(4.1) 92 reseñas</span>
              </div>
              <div class="card-price">$299.990</div>
              <p class="card-description">Monitor curvo de 27" con 144Hz y tecnología FreeSync para gaming fluido</p>
              <div class="card-actions">
                <button class="card-button" onclick="addToCart(6)">Agregar al Carrito</button>
                <button class="reviews-button" onclick="openProductReviews('monitor-144hz')">Ver Reseñas</button>
              </div>
            </div>
          </article>
        </div>
      </section>
    </div>
  </main>

  <!-- ===================== FOOTER ===================== -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 Game Store - Level-Up Gamer Theme. Desarrollado con ❤️ para gamers.</p>
    </div>
  </footer>

  <!-- ===================== MODAL DE REGISTRO ===================== -->
  <div class="modal-overlay" id="register-modal" aria-hidden="true">
    <div class="modal" role="dialog" aria-labelledby="register-title" aria-describedby="register-description">
      <div class="modal-header">
        <h2 id="register-title">🎮 Únete a Level-Up Gamer</h2>
        <button class="modal-close" aria-label="Cerrar modal">&times;</button>
      </div>
      <div class="modal-body">
        <p id="register-description">Crea tu cuenta y accede a ofertas exclusivas</p>
        
        <form id="register-form" novalidate>
          <div class="form-group">
            <label for="register-name">Nombre Completo *</label>
            <input type="text" id="register-name" name="name" required 
                   aria-describedby="name-error" placeholder="Ingresa tu nombre completo">
            <div class="error-message" id="name-error" aria-live="polite"></div>
          </div>

          <div class="form-group">
            <label for="register-email">Correo Electrónico *</label>
            <input type="email" id="register-email" name="email" required 
                   aria-describedby="email-error email-hint" placeholder="ejemplo@duocuc.cl">
            <div class="form-hint" id="email-hint">
              💡 ¿Eres de Duoc UC? ¡Obtén 20% de descuento de por vida!
            </div>
            <div class="error-message" id="email-error" aria-live="polite"></div>
          </div>

          <div class="form-group">
            <label for="register-birthdate">Fecha de Nacimiento *</label>
            <input type="date" id="register-birthdate" name="birthdate" required 
                   aria-describedby="birthdate-error birthdate-hint">
            <div class="form-hint" id="birthdate-hint">
              ⚠️ Debes ser mayor de 18 años para registrarte
            </div>
            <div class="error-message" id="birthdate-error" aria-live="polite"></div>
          </div>

          <div class="form-group">
            <label for="register-password">Contraseña *</label>
            <input type="password" id="register-password" name="password" required 
                   aria-describedby="password-error" placeholder="Mínimo 8 caracteres">
            <div class="error-message" id="password-error" aria-live="polite"></div>
          </div>

          <div class="form-group">
            <label for="register-confirm-password">Confirmar Contraseña *</label>
            <input type="password" id="register-confirm-password" name="confirmPassword" required 
                   aria-describedby="confirm-password-error" placeholder="Repite tu contraseña">
            <div class="error-message" id="confirm-password-error" aria-live="polite"></div>
          </div>

          <div class="form-group">
            <label for="register-referral-code">Código de Referido (Opcional)</label>
            <input type="text" id="register-referral-code" name="referralCode" 
                   aria-describedby="referral-code-hint referral-code-success" 
                   placeholder="Ingresa código de referido" maxlength="10">
            <div class="form-hint" id="referral-code-hint">
              🎁 Con un código válido obtienes 50 puntos LevelUp de bienvenida
            </div>
            <div class="success-message" id="referral-code-success" aria-live="polite" style="display: none;"></div>
            <div class="error-message" id="referral-code-error" aria-live="polite"></div>
          </div>

          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="register-terms" name="terms" required>
              <span class="checkmark"></span>
              Acepto los <a href="#" class="link">términos y condiciones</a> *
            </label>
            <div class="error-message" id="terms-error" aria-live="polite"></div>
          </div>

          <div class="discount-preview" id="discount-preview" style="display: none;">
            <div class="discount-badge">
              🎉 ¡Felicidades! Tienes 20% de descuento de por vida por ser de Duoc UC
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" id="cancel-register">Cancelar</button>
            <button type="submit" class="btn-primary" id="submit-register">
              <span class="btn-text">Crear Cuenta</span>
              <span class="btn-loading" style="display: none;">⏳ Registrando...</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ===================== MODAL DE LOGIN ===================== -->
  <div class="modal-overlay" id="login-modal" aria-hidden="true">
    <div class="modal" role="dialog" aria-labelledby="login-title" aria-describedby="login-description">
      <div class="modal-header">
        <h2 id="login-title">🔑 Iniciar Sesión</h2>
        <button class="modal-close" aria-label="Cerrar modal">&times;</button>
      </div>
      <div class="modal-body">
        <p id="login-description">Accede a tu cuenta gamer</p>
        
        <form id="login-form" novalidate>
          <div class="form-group">
            <label for="login-email">Correo Electrónico *</label>
            <input type="email" id="login-email" name="email" required 
                   aria-describedby="login-email-error" placeholder="ejemplo@duocuc.cl">
            <div class="error-message" id="login-email-error" aria-live="polite"></div>
          </div>

          <div class="form-group">
            <label for="login-password">Contraseña *</label>
            <input type="password" id="login-password" name="password" required 
                   aria-describedby="login-password-error" placeholder="Tu contraseña">
            <div class="error-message" id="login-password-error" aria-live="polite"></div>
          </div>

          <div class="form-group checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="remember-me" name="rememberMe">
              <span class="checkmark"></span>
              Recordarme por 30 días
            </label>
          </div>

          <div class="user-preview" id="user-preview" style="display: none;">
            <div class="user-badge">
              <div class="user-info">
                <div class="user-name"></div>
                <div class="user-benefits"></div>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" id="cancel-login">Cancelar</button>
            <button type="submit" class="btn-primary" id="submit-login">
              <span class="btn-text">Iniciar Sesión</span>
              <span class="btn-loading" style="display: none;">🔑 Verificando...</span>
            </button>
          </div>

          <div class="login-footer">
            <p>¿No tienes cuenta? <a href="#" class="link" id="switch-to-register">Regístrate aquí</a></p>
            <a href="#" class="link forgot-password">¿Olvidaste tu contraseña?</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ===================== MODAL DE PERFIL ===================== -->
  <div class="modal-overlay" id="profile-modal" aria-hidden="true">
    <div class="modal profile-modal" role="dialog" aria-labelledby="profile-title" aria-describedby="profile-description">
      <div class="modal-header">
        <h2 id="profile-title">🎮 Mi Perfil Gamer</h2>
        <button class="modal-close" aria-label="Cerrar modal">&times;</button>
      </div>
      <div class="modal-body">
        <p id="profile-description">Gestiona tu información personal y preferencias de compra</p>
        
        <!-- Pestañas del perfil -->
        <div class="profile-tabs">
          <button class="tab-button active" data-tab="personal">👤 Información Personal</button>
          <button class="tab-button" data-tab="preferences">⚙️ Preferencias</button>
          <button class="tab-button" data-tab="gamification">🏆 Niveles & Logros</button>
          <button class="tab-button" data-tab="referral">🎁 Referidos</button>
          <button class="tab-button" data-tab="security">🔒 Seguridad</button>
        </div>

        <!-- Contenido de pestañas -->
        <div class="tab-content">
          
          <!-- Pestaña: Información Personal -->
          <div class="tab-pane active" id="personal-tab">
            <form id="profile-form" novalidate>
              <div class="profile-section">
                <h3>Datos Básicos</h3>
                
                <div class="form-row">
                  <div class="form-group">
                    <label for="profile-name">Nombre Completo *</label>
                    <input type="text" id="profile-name" name="name" required>
                    <div class="error-message" id="profile-name-error"></div>
                  </div>
                  
                  <div class="form-group">
                    <label for="profile-email">Correo Electrónico *</label>
                    <input type="email" id="profile-email" name="email" required readonly>
                    <div class="form-hint">El correo no se puede modificar</div>
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="profile-phone">Teléfono</label>
                    <input type="tel" id="profile-phone" name="phone" placeholder="+56 9 1234 5678">
                    <div class="error-message" id="profile-phone-error"></div>
                  </div>
                  
                  <div class="form-group">
                    <label for="profile-birthdate">Fecha de Nacimiento</label>
                    <input type="date" id="profile-birthdate" name="birthdate" readonly>
                    <div class="form-hint">No se puede modificar después del registro</div>
                  </div>
                </div>

                <div class="form-group">
                  <label for="profile-address">Dirección de Envío</label>
                  <textarea id="profile-address" name="address" rows="3" 
                            placeholder="Ingresa tu dirección completa para entregas"></textarea>
                </div>
              </div>

              <div class="profile-section">
                <h3>Información Gamer</h3>
                
                <div class="form-row">
                  <div class="form-group">
                    <label for="profile-gamertag">Gamer Tag</label>
                    <input type="text" id="profile-gamertag" name="gamertag" 
                           placeholder="Tu nombre de usuario gamer">
                  </div>
                  
                  <div class="form-group">
                    <label for="profile-platform">Plataforma Favorita</label>
                    <select id="profile-platform" name="platform">
                      <option value="">Selecciona tu plataforma</option>
                      <option value="pc">PC</option>
                      <option value="playstation">PlayStation</option>
                      <option value="xbox">Xbox</option>
                      <option value="nintendo">Nintendo</option>
                      <option value="mobile">Mobile</option>
                    </select>
                  </div>
                </div>

                <div class="form-group">
                  <label for="profile-genres">Géneros Favoritos</label>
                  <div class="checkbox-grid">
                    <label class="checkbox-label">
                      <input type="checkbox" name="genres" value="action">
                      <span class="checkmark"></span>
                      Acción
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" name="genres" value="rpg">
                      <span class="checkmark"></span>
                      RPG
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" name="genres" value="strategy">
                      <span class="checkmark"></span>
                      Estrategia
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" name="genres" value="sports">
                      <span class="checkmark"></span>
                      Deportes
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" name="genres" value="racing">
                      <span class="checkmark"></span>
                      Carreras
                    </label>
                    <label class="checkbox-label">
                      <input type="checkbox" name="genres" value="simulation">
                      <span class="checkmark"></span>
                      Simulación
                    </label>
                  </div>
                </div>
              </div>
            </form>
          </div>

          <!-- Pestaña: Preferencias -->
          <div class="tab-pane" id="preferences-tab">
            <form id="preferences-form">
              <div class="profile-section">
                <h3>Preferencias de Compra</h3>
                
                <div class="form-group">
                  <label for="currency-preference">Moneda Preferida</label>
                  <select id="currency-preference" name="currency">
                    <option value="CLP">Peso Chileno (CLP)</option>
                    <option value="USD">Dólar Americano (USD)</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="budget-range">Rango de Presupuesto Mensual</label>
                  <select id="budget-range" name="budget">
                    <option value="">No especificar</option>
                    <option value="low">Hasta $50.000 CLP</option>
                    <option value="medium">$50.000 - $150.000 CLP</option>
                    <option value="high">$150.000 - $500.000 CLP</option>
                    <option value="premium">Más de $500.000 CLP</option>
                  </select>
                </div>

                <div class="checkbox-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="autoRecommendations" id="auto-recommendations">
                    <span class="checkmark"></span>
                    Recibir recomendaciones automáticas basadas en mis gustos
                  </label>
                </div>
              </div>

              <div class="profile-section">
                <h3>Notificaciones</h3>
                
                <div class="checkbox-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="emailOffers" id="email-offers" checked>
                    <span class="checkmark"></span>
                    Ofertas y promociones por email
                  </label>
                </div>

                <div class="checkbox-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="newProducts" id="new-products" checked>
                    <span class="checkmark"></span>
                    Notificaciones de nuevos productos
                  </label>
                </div>

                <div class="checkbox-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="events" id="events-notifications" checked>
                    <span class="checkmark"></span>
                    Eventos y torneos Level-Up
                  </label>
                </div>

                <div class="checkbox-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="orderUpdates" id="order-updates" checked>
                    <span class="checkmark"></span>
                    Actualizaciones de pedidos
                  </label>
                </div>
              </div>
            </form>
          </div>

          <!-- Pestaña: Gamificación -->
          <div class="tab-pane" id="gamification-tab">
            <div class="profile-section">
              <h3>🏆 Tu Progreso Gamer</h3>
              <p>Gana puntos LevelUp comprando, refiriendo amigos y completando desafíos</p>
              
              <!-- Información del nivel actual -->
              <div class="level-display">
                <div class="level-card">
                  <div class="level-info">
                    <div class="level-badge">
                      <span class="level-icon" id="current-level-icon">🥉</span>
                      <div class="level-details">
                        <span class="level-title" id="current-level-name">Novato</span>
                        <span class="level-number">Nivel <span id="current-level-number">1</span></span>
                      </div>
                    </div>
                    
                    <div class="level-points">
                      <span class="points-current" id="current-points">0</span>
                      <span class="points-label">Puntos LevelUp</span>
                    </div>
                  </div>
                  
                  <!-- Barra de progreso al siguiente nivel -->
                  <div class="level-progress">
                    <div class="progress-info">
                      <span>Progreso al siguiente nivel</span>
                      <span><span id="progress-current">0</span> / <span id="progress-needed">100</span></span>
                    </div>
                    <div class="progress-bar">
                      <div class="progress-fill" id="progress-fill" style="width: 0%;"></div>
                    </div>
                    <div class="next-level-info">
                      <span class="next-level-icon" id="next-level-icon">🥈</span>
                      <span id="next-level-name">Explorador</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Lista de niveles disponibles -->
              <div class="levels-list">
                <h4>🎯 Todos los Niveles</h4>
                <div class="levels-grid" id="levels-grid">
                  <!-- Los niveles se generarán dinámicamente -->
                </div>
              </div>

              <!-- Beneficios del nivel actual -->
              <div class="level-benefits">
                <h4>💎 Beneficios de tu Nivel</h4>
                <div class="benefits-list" id="current-benefits">
                  <!-- Los beneficios se cargarán dinámicamente -->
                </div>
              </div>

              <!-- Logros desbloqueados -->
              <div class="achievements">
                <h4>🏅 Logros Desbloqueados</h4>
                <div class="achievements-grid" id="achievements-grid">
                  <!-- Los logros se generarán dinámicamente -->
                </div>
              </div>

              <!-- Desafíos activos -->
              <div class="challenges">
                <h4>⚔️ Desafíos Activos</h4>
                <div class="challenges-list" id="challenges-list">
                  <!-- Los desafíos se generarán dinámicamente -->
                </div>
              </div>
            </div>
          </div>

          <!-- Pestaña: Referidos -->
          <div class="tab-pane" id="referral-tab">
            <div class="profile-section">
              <h3>🎁 Tu Código de Referido</h3>
              <p>Comparte tu código con amigos y gana puntos LevelUp por cada registro exitoso</p>
              
              <div class="referral-code-display">
                <div class="referral-code-container">
                  <span class="referral-code-label">Tu código único:</span>
                  <div class="referral-code-value">
                    <span id="user-referral-code">CARGANDO...</span>
                    <button type="button" class="copy-button" id="copy-referral-code" title="Copiar código">
                      📋
                    </button>
                  </div>
                </div>
                
                <div class="referral-share">
                  <p>💡 <strong>Compartir:</strong></p>
                  <div class="share-buttons">
                    <button type="button" class="share-btn" id="share-whatsapp">
                      💬 WhatsApp
                    </button>
                    <button type="button" class="share-btn" id="share-email">
                      📧 Email
                    </button>
                    <button type="button" class="share-btn" id="share-copy">
                      🔗 Copiar Enlace
                    </button>
                  </div>
                </div>
              </div>

              <div class="referral-stats">
                <h4>📊 Estadísticas de Referidos</h4>
                <div class="stats-grid">
                  <div class="stat-card">
                    <div class="stat-number" id="total-referrals">0</div>
                    <div class="stat-label">Amigos referidos</div>
                  </div>
                  <div class="stat-card">
                    <div class="stat-number" id="earned-points">0</div>
                    <div class="stat-label">Puntos ganados</div>
                  </div>
                  <div class="stat-card">
                    <div class="stat-number" id="current-points">0</div>
                    <div class="stat-label">Puntos actuales</div>
                  </div>
                </div>
              </div>

              <div class="referral-info">
                <h4>ℹ️ Cómo Funciona</h4>
                <ul class="referral-rules">
                  <li>Comparte tu código con amigos nuevos</li>
                  <li>Ellos obtienen 50 puntos al registrarse</li>
                  <li>Tú ganas 25 puntos por cada registro exitoso</li>
                  <li>Los puntos se pueden canjear por descuentos</li>
                  <li>No hay límite de referidos</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Pestaña: Seguridad -->
          <div class="tab-pane" id="security-tab">
            <form id="security-form">
              <div class="profile-section">
                <h3>Cambiar Contraseña</h3>
                
                <div class="form-group">
                  <label for="current-password">Contraseña Actual *</label>
                  <input type="password" id="current-password" name="currentPassword">
                  <div class="error-message" id="current-password-error"></div>
                </div>

                <div class="form-group">
                  <label for="new-password">Nueva Contraseña *</label>
                  <input type="password" id="new-password" name="newPassword" 
                         placeholder="Mínimo 8 caracteres">
                  <div class="error-message" id="new-password-error"></div>
                </div>

                <div class="form-group">
                  <label for="confirm-new-password">Confirmar Nueva Contraseña *</label>
                  <input type="password" id="confirm-new-password" name="confirmNewPassword">
                  <div class="error-message" id="confirm-new-password-error"></div>
                </div>

                <button type="submit" class="btn-primary" id="change-password-btn">
                  🔒 Cambiar Contraseña
                </button>
              </div>

              <div class="profile-section">
                <h3>Configuración de Sesión</h3>
                
                <div class="checkbox-group">
                  <label class="checkbox-label">
                    <input type="checkbox" name="twoFactor" id="two-factor">
                    <span class="checkmark"></span>
                    Habilitar autenticación de dos factores (próximamente)
                  </label>
                </div>

                <div class="security-info">
                  <p><strong>Última sesión:</strong> <span id="last-login">Hoy</span></p>
                  <p><strong>Sesiones activas:</strong> <span id="active-sessions">1 dispositivo</span></p>
                </div>

                <button type="button" class="btn-secondary" id="logout-all-sessions">
                  🚪 Cerrar todas las sesiones
                </button>
              </div>
            </form>
          </div>
        </div>

        <div class="profile-actions">
          <button type="button" class="btn-secondary" id="cancel-profile">Cancelar</button>
          <button type="button" class="btn-primary" id="save-profile">
            <span class="btn-text">💾 Guardar Cambios</span>
            <span class="btn-loading" style="display: none;">⏳ Guardando...</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== MODAL DE RESEÑAS ===================== -->
  <div class="modal-overlay" id="reviews-modal" aria-hidden="true">
    <div class="modal reviews-modal" role="dialog" aria-labelledby="reviews-title">
      <div class="modal-header">
        <h2 id="reviews-title">⭐ Reseñas del Producto</h2>
        <button class="modal-close" aria-label="Cerrar modal">&times;</button>
      </div>
      <div class="modal-body">
        <!-- Información del producto -->
        <div class="product-info">
          <div class="product-summary">
            <div class="product-icon" id="review-product-icon">⚡</div>
            <div class="product-details">
              <h3 id="review-product-name">Producto</h3>
              <div class="product-rating-summary">
                <div class="rating-stars" id="review-product-stars">
                  <!-- Estrellas generadas dinámicamente -->
                </div>
                <span class="rating-average" id="review-rating-average">4.5</span>
                <span class="rating-count">(<span id="review-rating-count">0</span> reseñas)</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Distribución de calificaciones -->
        <div class="rating-distribution">
          <h4>📊 Distribución de Calificaciones</h4>
          <div class="rating-bars">
            <div class="rating-bar" data-stars="5">
              <span class="bar-label">5 ★</span>
              <div class="bar-fill-container">
                <div class="bar-fill" style="width: 0%"></div>
              </div>
              <span class="bar-count">0</span>
            </div>
            <div class="rating-bar" data-stars="4">
              <span class="bar-label">4 ★</span>
              <div class="bar-fill-container">
                <div class="bar-fill" style="width: 0%"></div>
              </div>
              <span class="bar-count">0</span>
            </div>
            <div class="rating-bar" data-stars="3">
              <span class="bar-label">3 ★</span>
              <div class="bar-fill-container">
                <div class="bar-fill" style="width: 0%"></div>
              </div>
              <span class="bar-count">0</span>
            </div>
            <div class="rating-bar" data-stars="2">
              <span class="bar-label">2 ★</span>
              <div class="bar-fill-container">
                <div class="bar-fill" style="width: 0%"></div>
              </div>
              <span class="bar-count">0</span>
            </div>
            <div class="rating-bar" data-stars="1">
              <span class="bar-label">1 ★</span>
              <div class="bar-fill-container">
                <div class="bar-fill" style="width: 0%"></div>
              </div>
              <span class="bar-count">0</span>
            </div>
          </div>
        </div>

        <!-- Filtros y acciones -->
        <div class="reviews-controls">
          <div class="filters">
            <select id="reviews-filter" class="filter-select">
              <option value="all">Todas las reseñas</option>
              <option value="5">5 estrellas</option>
              <option value="4">4 estrellas</option>
              <option value="3">3 estrellas</option>
              <option value="2">2 estrellas</option>
              <option value="1">1 estrella</option>
            </select>
            <select id="reviews-sort" class="filter-select">
              <option value="newest">Más recientes</option>
              <option value="oldest">Más antiguos</option>
              <option value="highest">Mejor calificados</option>
              <option value="lowest">Peor calificados</option>
              <option value="helpful">Más útiles</option>
            </select>
          </div>
          <button class="btn-primary" id="write-review-btn">✍️ Escribir Reseña</button>
        </div>

        <!-- Lista de reseñas -->
        <div class="reviews-list" id="reviews-list">
          <!-- Las reseñas se cargarán dinámicamente -->
        </div>

        <!-- Paginación -->
        <div class="reviews-pagination" id="reviews-pagination" style="display: none;">
          <button class="pagination-btn" id="prev-reviews">← Anterior</button>
          <span class="pagination-info">Página <span id="current-page">1</span> de <span id="total-pages">1</span></span>
          <button class="pagination-btn" id="next-reviews">Siguiente →</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== MODAL DE ESCRIBIR RESEÑA ===================== -->
  <div class="modal-overlay" id="write-review-modal" aria-hidden="true">
    <div class="modal write-review-modal" role="dialog" aria-labelledby="write-review-title">
      <div class="modal-header">
        <h2 id="write-review-title">✍️ Escribir Reseña</h2>
        <button class="modal-close" aria-label="Cerrar modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="review-form" novalidate>
          <div class="review-product-info">
            <div class="product-icon" id="write-review-product-icon">⚡</div>
            <div class="product-details">
              <h3 id="write-review-product-name">Producto</h3>
              <p>Comparte tu experiencia con este producto</p>
            </div>
          </div>

          <div class="form-group">
            <label for="review-rating">Calificación *</label>
            <div class="star-rating" id="review-rating">
              <button type="button" class="star-btn" data-rating="1">★</button>
              <button type="button" class="star-btn" data-rating="2">★</button>
              <button type="button" class="star-btn" data-rating="3">★</button>
              <button type="button" class="star-btn" data-rating="4">★</button>
              <button type="button" class="star-btn" data-rating="5">★</button>
            </div>
            <div class="rating-label" id="rating-label">Selecciona una calificación</div>
            <div class="error-message" id="rating-error"></div>
          </div>

          <div class="form-group">
            <label for="review-title">Título de la reseña *</label>
            <input type="text" id="review-title" name="title" required 
                   placeholder="Resume tu experiencia en pocas palabras" maxlength="100">
            <div class="error-message" id="title-error"></div>
          </div>

          <div class="form-group">
            <label for="review-content">Reseña detallada *</label>
            <textarea id="review-content" name="content" required rows="6"
                      placeholder="Cuéntanos sobre tu experiencia con este producto. ¿Qué te gustó? ¿Qué mejorarías?" 
                      maxlength="1000"></textarea>
            <div class="char-count"><span id="char-count">0</span>/1000 caracteres</div>
            <div class="error-message" id="content-error"></div>
          </div>

          <div class="form-group">
            <label>¿Recomendarías este producto?</label>
            <div class="radio-group">
              <label class="radio-label">
                <input type="radio" name="recommend" value="yes" checked>
                <span class="radio-mark"></span>
                👍 Sí, lo recomiendo
              </label>
              <label class="radio-label">
                <input type="radio" name="recommend" value="no">
                <span class="radio-mark"></span>
                👎 No lo recomiendo
              </label>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" id="cancel-review">Cancelar</button>
            <button type="submit" class="btn-primary" id="submit-review">
              <span class="btn-text">Publicar Reseña</span>
              <span class="btn-loading" style="display: none;">⏳ Publicando...</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ===================== MODAL DE CARRITO ===================== -->
  <div class="modal-overlay" id="cart-modal" aria-hidden="true">
    <div class="modal cart-modal" role="dialog" aria-labelledby="cart-title">
      <div class="modal-header">
        <h2 id="cart-title">🛒 Tu Carrito de Compras</h2>
        <button class="modal-close" aria-label="Cerrar modal">&times;</button>
      </div>
      <div class="modal-body">
        <!-- Estado vacío -->
        <div class="empty-cart" id="empty-cart" style="display: none;">
          <div class="empty-cart-icon">🛒</div>
          <h3>Tu carrito está vacío</h3>
          <p>¡Agrega algunos productos increíbles y comienza tu experiencia gaming!</p>
          <button class="btn-primary" onclick="closeCartModal()">Continuar Comprando</button>
        </div>

        <!-- Contenido del carrito -->
        <div class="cart-content" id="cart-content">
          <!-- Items del carrito -->
          <div class="cart-items" id="cart-items">
            <!-- Los items se cargarán dinámicamente -->
          </div>

          <!-- Resumen de descuentos -->
          <div class="cart-discounts" id="cart-discounts" style="display: none;">
            <h4>💰 Descuentos Aplicados</h4>
            <div class="discount-list" id="discount-list">
              <!-- Los descuentos se cargarán dinámicamente -->
            </div>
          </div>

          <!-- Resumen de totales -->
          <div class="cart-summary">
            <div class="summary-row">
              <span>Subtotal:</span>
              <span id="cart-subtotal">$0</span>
            </div>
            <div class="summary-row discount" id="discount-row" style="display: none;">
              <span>Descuento (<span id="discount-percentage">0</span>%):</span>
              <span id="cart-discount">-$0</span>
            </div>
            <div class="summary-row shipping">
              <span>Envío:</span>
              <span id="cart-shipping">$0</span>
            </div>
            <div class="summary-row total">
              <span>Total:</span>
              <span id="cart-total">$0</span>
            </div>
            <div class="points-earned" id="points-earned" style="display: none;">
              <span>🎁 Ganarás <strong><span id="points-amount">0</span> puntos LevelUp</strong> con esta compra</span>
            </div>
          </div>

          <!-- Acciones del carrito -->
          <div class="cart-actions">
            <button class="btn-secondary" onclick="clearCart()">🗑️ Vaciar Carrito</button>
            <button class="btn-primary" id="checkout-btn" onclick="initiateCheckout()">
              💳 Proceder al Checkout
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== MODAL DE CHECKOUT ===================== -->
  <div class="modal-overlay" id="checkout-modal" aria-hidden="true">
    <div class="modal checkout-modal" role="dialog" aria-labelledby="checkout-title">
      <div class="modal-header">
        <h2 id="checkout-title">💳 Finalizar Compra</h2>
        <button class="modal-close" aria-label="Cerrar modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="checkout-form" novalidate>
          <!-- Información de envío -->
          <div class="checkout-section">
            <h3>📦 Información de Envío</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="shipping-name">Nombre completo *</label>
                <input type="text" id="shipping-name" name="name" required>
                <div class="error-message" id="shipping-name-error"></div>
              </div>
              <div class="form-group">
                <label for="shipping-phone">Teléfono *</label>
                <input type="tel" id="shipping-phone" name="phone" required>
                <div class="error-message" id="shipping-phone-error"></div>
              </div>
            </div>
            <div class="form-group">
              <label for="shipping-address">Dirección completa *</label>
              <textarea id="shipping-address" name="address" required rows="3" 
                        placeholder="Calle, número, comuna, ciudad, región"></textarea>
              <div class="error-message" id="shipping-address-error"></div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="shipping-city">Ciudad *</label>
                <input type="text" id="shipping-city" name="city" required>
                <div class="error-message" id="shipping-city-error"></div>
              </div>
              <div class="form-group">
                <label for="shipping-zipcode">Código postal</label>
                <input type="text" id="shipping-zipcode" name="zipcode">
              </div>
            </div>
          </div>

          <!-- Método de pago -->
          <div class="checkout-section">
            <h3>💳 Método de Pago</h3>
            <div class="payment-methods">
              <label class="payment-method">
                <input type="radio" name="payment" value="credit" checked>
                <span class="payment-icon">💳</span>
                <span class="payment-label">Tarjeta de Crédito/Débito</span>
              </label>
              <label class="payment-method">
                <input type="radio" name="payment" value="transfer">
                <span class="payment-icon">🏦</span>
                <span class="payment-label">Transferencia Bancaria</span>
              </label>
              <label class="payment-method">
                <input type="radio" name="payment" value="webpay">
                <span class="payment-icon">🔒</span>
                <span class="payment-label">WebPay Plus</span>
              </label>
            </div>
          </div>

          <!-- Información de pago (solo para tarjeta) -->
          <div class="checkout-section" id="card-details">
            <h3>💳 Detalles de la Tarjeta</h3>
            <div class="form-group">
              <label for="card-number">Número de tarjeta *</label>
              <input type="text" id="card-number" name="cardNumber" 
                     placeholder="1234 5678 9012 3456" maxlength="19">
              <div class="error-message" id="card-number-error"></div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="card-expiry">Vencimiento *</label>
                <input type="text" id="card-expiry" name="cardExpiry" 
                       placeholder="MM/AA" maxlength="5">
                <div class="error-message" id="card-expiry-error"></div>
              </div>
              <div class="form-group">
                <label for="card-cvv">CVV *</label>
                <input type="text" id="card-cvv" name="cardCvv" 
                       placeholder="123" maxlength="4">
                <div class="error-message" id="card-cvv-error"></div>
              </div>
            </div>
            <div class="form-group">
              <label for="card-name">Nombre en la tarjeta *</label>
              <input type="text" id="card-name" name="cardName">
              <div class="error-message" id="card-name-error"></div>
            </div>
          </div>

          <!-- Resumen de la orden -->
          <div class="checkout-section">
            <h3>📋 Resumen de tu Orden</h3>
            <div class="order-summary" id="order-summary">
              <!-- Se cargará dinámicamente -->
            </div>
          </div>

          <!-- Términos y condiciones -->
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="terms-checkout" name="terms" required>
              <span class="checkmark"></span>
              Acepto los <a href="#" class="link">términos y condiciones</a> y la <a href="#" class="link">política de privacidad</a> *
            </label>
            <div class="error-message" id="terms-checkout-error"></div>
          </div>

          <!-- Acciones del checkout -->
          <div class="checkout-actions">
            <button type="button" class="btn-secondary" onclick="closeCheckoutModal()">Volver al Carrito</button>
            <button type="submit" class="btn-primary" id="place-order-btn">
              <span class="btn-text">🚀 Confirmar Pedido</span>
              <span class="btn-loading" style="display: none;">⏳ Procesando...</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- ===================== JAVASCRIPT ===================== -->
  <script src="script.js"></script>

  <!-- ===================== NOTAS PARA TU EQUIPO =====================
    - Tema fijo: Level-Up Gamer (oscuro con tipografía Orbitron)
    - Reemplaza las tiles de categorías por un render dinámico desde tu JSON.
    - Población de destacados:
        document.querySelector('#featured-grid').innerHTML = productos.slice(0,6).map(...).join('');
    - Actualiza #cart-count con el total del carrito y pon aria-live="polite".
  ================================================================ -->
</body>
</html>
